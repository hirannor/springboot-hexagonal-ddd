<svg width="950" height="900" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="rgba(0,0,0,0.2)"/>
        </filter>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
        </marker>
    </defs>

    <!-- Background -->
    <rect width="950" height="900" fill="#ffffff"/>

    <!-- Title -->
    <text x="475" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold"
          fill="#2c3e50">Order Management System (OMS)
    </text>
    <text x="475" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#7f8c8d">Hexagonal
        Architecture with DDD
    </text>

    <!-- Central Hexagon (Application Core) - Narrower and moved down -->
    <polygon points="475,450 600,380 600,220 475,150 350,220 350,380"
             fill="#3498db" stroke="#2980b9" stroke-width="3" filter="url(#shadow)"/>


    <!-- Domain sections with better spacing -->
    <text x="475" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="#ecf0f1">Customer Domain
    </text>

    <text x="475" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="#ecf0f1">Product Domain
    </text>

    <text x="475" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="#ecf0f1">Inventory Domain
    </text>

    <text x="475" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="#ecf0f1">Basket Domain
    </text>

    <text x="475" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="#ecf0f1">Order Domain
    </text>

    <text x="475" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="#ecf0f1">Payment Domain
    </text>

    <!-- Primary Adapters (Driving/Left Side) -->
    <!-- REST Adapter -->
    <rect x="75" y="200" width="140" height="70" rx="8" fill="#e74c3c" stroke="#c0392b" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="145" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold"
          fill="white">REST API
    </text>
    <text x="145" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#f8c9c9">HTTP
        Controllers
    </text>

    <!-- JWT Authentication Adapter -->
    <rect x="75" y="320" width="140" height="70" rx="8" fill="#e74c3c" stroke="#c0392b" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="145" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold"
          fill="white">Authentication
    </text>
    <text x="145" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#f8c9c9">JWT Auth
    </text>

    <!-- Secondary Adapters (Driven/Right Side) -->
    <!-- JPA Persistence Adapter -->
    <rect x="735" y="110" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">JPA Store
    </text>
    <text x="805" y="148" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">Database Storage</text>

    <!-- In-Memory Persistence Adapter -->
    <rect x="735" y="170" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">In-Memory Store
    </text>
    <text x="805" y="208" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">Memory/Testing</text>

    <!-- Event Bus Adapter -->
    <rect x="735" y="290" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">Event Bus (Rabbit)
    </text>
    <text x="805" y="328" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">Event Publishing</text>

    <!-- Stripe Payment Gateway Adapter -->
    <rect x="735" y="350" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">Stripe Payment
    </text>
    <text x="805" y="388" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">Payment Gateway</text>

    <!-- Mock Payment Gateway Adapter -->
    <rect x="735" y="410" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">Mock Payment
    </text>
    <text x="805" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">Testing Gateway</text>

    <!-- SMS Notification Adapter -->
    <rect x="735" y="470" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">SMS Notification
    </text>
    <text x="805" y="508" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">SMS Gateway</text>

    <!-- Email Notification Adapter -->
    <rect x="735" y="530" width="140" height="50" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2"
          filter="url(#shadow)"/>
    <text x="805" y="550" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold"
          fill="white">Email Notification
    </text>
    <text x="805" y="568" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#a9dfbf">SMTP Service</text>

    <!-- Primary Ports (Interfaces) -->
    <circle cx="310" cy="270" r="25" fill="#f39c12" stroke="#e67e22" stroke-width="2" filter="url(#shadow)"/>
    <text x="310" y="267" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold"
          fill="white">REST
    </text>
    <text x="310" y="278" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold"
          fill="white">Port
    </text>

    <circle cx="310" cy="330" r="25" fill="#f39c12" stroke="#e67e22" stroke-width="2" filter="url(#shadow)"/>
    <text x="310" y="327" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold"
          fill="white">Auth
    </text>
    <text x="310" y="338" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold"
          fill="white">Port
    </text>

    <!-- Secondary Ports (Interfaces) -->
    <circle cx="640" cy="190" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="194" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Repository
    </text>

    <circle cx="640" cy="230" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="234" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Repository
    </text>

    <circle cx="640" cy="310" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="314" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Messaging
    </text>

    <circle cx="640" cy="350" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="354" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Payment
    </text>

    <circle cx="640" cy="390" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="394" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Payment
    </text>

    <circle cx="640" cy="430" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="434" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Notification
    </text>

    <circle cx="640" cy="470" r="20" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="640" y="474" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold"
          fill="white">Notification
    </text>

    <!-- Connection Lines -->
    <!-- Primary side connections -->
    <line x1="215" y1="270" x2="285" y2="270" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="215" y1="330" x2="285" y2="330" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Port to Core connections -->
    <line x1="335" y1="270" x2="355" y2="265" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="335" y1="330" x2="355" y2="335" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Core to Port connections -->
    <line x1="595" y1="240" x2="620" y2="190" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="595" y1="250" x2="620" y2="230" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="595" y1="310" x2="620" y2="310" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="595" y1="340" x2="620" y2="350" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="595" y1="370" x2="620" y2="390" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="595" y1="400" x2="620" y2="430" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="595" y1="420" x2="620" y2="470" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Secondary side connections -->
    <line x1="660" y1="190" x2="735" y2="135" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="660" y1="230" x2="735" y2="195" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="660" y1="310" x2="735" y2="315" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="660" y1="350" x2="735" y2="375" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="660" y1="390" x2="735" y2="435" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="660" y1="430" x2="735" y2="495" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="660" y1="470" x2="735" y2="555" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Legend -->
    <rect x="75" y="640" width="800" height="240" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="8"/>
    <text x="95" y="670" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">Architecture
        Components
    </text>

    <!-- Legend items -->
    <rect x="95" y="690" width="20" height="15" fill="#3498db"/>
    <text x="125" y="702" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Application Core - Business domains with Command/Query services</text>

    <rect x="95" y="715" width="20" height="15" fill="#e74c3c"/>
    <text x="125" y="727" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Primary Adapters - Drive the application (REST API, JWT Auth)</text>

    <rect x="95" y="740" width="20" height="15" fill="#27ae60"/>
    <text x="125" y="752" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Secondary Adapters - Data persistence, messaging, notifications</text>

<!--    <rect x="95" y="790" width="20" height="15" fill="#6f42c1"/>-->
<!--    <text x="125" y="802" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Stripe Payment - Production payment processing</text>-->

<!--    <rect x="95" y="815" width="20" height="15" fill="#f39c12"/>-->
<!--    <text x="125" y="827" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Mock Payment and Ports - Testing/development  interface definitions</text>-->

    <circle cx="105" cy="775" r="8" fill="#f39c12"/>
    <text x="125" y="780" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Primary Ports - REST, Auth</text>

    <circle cx="105" cy="800" r="8" fill="#9b59b6"/>
    <text x="125" y="805" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Secondary Ports - Repository, Inventory, Messaging, Payment, Notification interfaces</text>
</svg>